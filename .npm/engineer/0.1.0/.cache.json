{"name":"engineer","description":"Powerful plugin system for writing large and extensible NodeJS applications","version":"0.1.0","author":{"name":"FriendCode","email":"contact@friendco.de"},"contributors":[{"name":"Samy Pesse","email":"samypesse@gmail.com"}],"main":"engineer.js","repository":{"type":"git","url":"http://github.com/FriendCode/engineer.git"},"dependencies":{"q":"0.9.6","underscore":"1.4.4"},"licenses":[{"type":"Apache","url":"http://github.com/FriendCode/engineer/raw/master/LICENSE"}],"readmeFilename":"README.md","bugs":{"url":"https://github.com/FriendCode/engineer/issues"},"_id":"engineer@0.1.0","dist":{"shasum":"ab0ed03239452746525fea39339333e98d0151cd","size":8219,"noattachment":false,"tarball":"http://registry.npm.taobao.org/engineer/download/engineer-0.1.0.tgz"},"_from":".","_npmVersion":"1.3.2","_npmUser":{"name":"samypesse","email":"samypesse@gmail.com"},"maintainers":[{"name":"samypesse","email":"samypesse@gmail.com"}],"directories":{},"publish_time":1385118693162,"_cnpm_publish_time":1385118693162,"readme":"engineer\n========\n\nPowerful plugin system for writing large and extensible NodeJS applications. Engineer plugins are compatible with Architect plugins. Using Engineer, you set up a simple configuration and tell Engineer which plugins you want to load. Each plugin registers itself with Engineer, so other plugins can use its functions. Plugins can be maintained as NPM packages so they can be dropped in to other Engineer apps.\n\n\n### Create an engineer application and load plugins\n\n```javascript\nvar engineer = require(\"engineer\");\n\nvar app = new engineer.Application({\n    // Paths could be an array of all plugins locations\n    'paths': __dirname\n})\n\napp.load([\n    // Plugin could be a single string\n    './test1',\n\n    // Or plugin could be an object containing options\n    {\n        packagePath: \"./test2\",\n        port: 8080\n    }\n]).then(function() {\n    console.log(\"Plugins are loaded!\");\n});\n```\n\nAn Application object can emit different object (Inherits from EventEmitter):\n\n```javascript\n// Error:\napp.on(\"error\", function(err) {\n    console.error(\"Error in the application:\");\n    console.error(err.stack);\n});\n\n// Plugin loaded\napp.on(\"plugin\", function(plugin) {}):\n\n// Service ready\napp.on(\"service\", function(name, service) {}):\n```\n\n\n### Plugin interface\n\n```javascript\n// auth.js\n\n/* All plugins must export this public signature.\n * @plugin is the hash of options the user passes in when creating an instance\n * of the plugin.\n * @imports is a hash of all services this plugin consumes.\n * @register is the callback to be called when the plugin is done initializing.\n */\nmodule.exports = function setup(plugin, imports, register) {\n\n  // \"database\" was a service this plugin consumes\n  var db = imports.database;\n\n  register(null, {\n    // \"auth\" is a service this plugin provides\n    auth: {\n      users: function (callback) {\n        db.keys(callback);\n      },\n      authenticate: function (username, password, callback) {\n        db.get(username, function (user) {\n          if (!(user && user.password === password)) {\n            return callback();\n          }\n          callback(user);\n        });\n      }\n    }\n  });\n};\n```\n\nEach plugin is a node module complete with a package.json file. It need not actually be in npm, it can be a simple folder in the code tree.\n\n```\n{\n    \"name\": \"auth\",\n    \"version\": \"0.0.1\",\n    \"main\": \"auth.js\",\n    \"private\": true,\n    \"plugin\": {\n        \"consumes\": [\"database\"],\n        \"provides\": [\"auth\"]\n    }\n}\n```","_etag":"\"e51-qnHUjDGeTAgQSRM1AgjL4g\""}